<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Farm Smart</title>
<link href="bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="bootstrap-3.3.5/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="bootstrap-3.3.5/css/custom.css" rel="stylesheet" type="text/css">
<script src="javascript/Chart.min.js"></script>
<script src="https://requirejs.org/docs/release/2.1.1/minified/require.js"/>
<script src="javascript/getClimateDataFromAercloud.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
 <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>


</style>

</head>

<body>

<!-- Brand and toggle get grouped for better mobile display -->
<nav id="navbar" class="navbar navbar-default navbar-inverse navbr-fixed-top" role="navigation">

	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbarCollapse">
			<span class="sr-only">Toggle nav </span>
			<span class="icon-bar"> </span>
			<span class="icon-bar"> </span>
			<span class="icon-bar"> </span>
		</button>
		<a class="navbar-brand" href="home.html"> FarmSmart </a>
	</div>
	<!-- Nav bar -->
	<div class="collapse navbar-collapse" id="navbarCollapse">
		<ul class="nav navbar-nav">
			<li><a href="home.html"><span class="glyphicon glyphicon-home"></span> Home </a></li>
		</ul>
		
		
	</div>

</nav>
<!-- container of the page to display information -->

<div class="container">
	<h1 class ="panel panel-primary">
		Farm Smart
	</h1>
<!-- display the dropdown button -->
<form class="form-inline" role="form">
  <div class="form-group" >
    <label for="email">Please select: </label>
	
    <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Fertilizer
	<span class="caret"></span></button>
		<ul class="dropdown-menu">
			<li><a href="#">Factor A</a></li>
			<li><a href="#">Factor B</a></li>
			<li><a href="#">Factor C</a></li>
		</ul>
	</div>
	<div class = "dropdown">
	<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Time
	<span class="caret"></span></button>
		<ul class="dropdown-menu">
			<li><a href="#">Factor A</a></li>
			<li><a href="#">Factor B</a></li>
			<li><a href="#">Factor C</a></li>
		</ul>
	</div>
  </div>
  
</form>
<!-- container for graphcontainer -->
<div class ="graphcontainer">
<!-- display the graph of our project -->
<canvas id="canvas" width="1000" height ="500"></canvas>
</div>

</div>

</body>


<script type="text/javascript">
	var creationTime = [];
	var temperature = [];
	var humidity = [];

	$.getJSON("https://api.aercloud.aeris.com/v1/16074/scls/ClimateDevice/containers/FirstContainer/contentInstances?apiKey=4ebc440a-eafb-11e5-a218-497c8286085a", function(data) {

    $("#json").html(data);
	    //Prepare the Data array with JSON elements with Temperature, Humidity and CreateTime data      
        for (var key in data.contentInstances)
		{
            jsonObject = JSON.parse(data.contentInstances[key].content.contentTypeBinary);
            jsonObject["creationTime"] = new Date(data.contentInstances[key].creationTime).toLocaleString();
			creationTime.push(jsonObject["creationTime"]);
			temperature.push(parseInt(jsonObject["Temperature"]));
			humidity.push(parseInt(jsonObject["Humidity"]));
						
		}

console.log(creationTime);
    var lineChartData = {
	//labels = time
    labels : creationTime,
    datasets: [{
	    label: "Temperature",
        fillColor: "rgba(220,220,220,0)",
        strokeColor: "rgba(220,180,0,1)",
        pointColor: "rgba(220,180,0,1)",
		//temperature
        data : temperature
    
    },
        {
            label: "Humidity",
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            data: humidity
        }
    
    ]

}



var ctx = document.getElementById("canvas").getContext("2d");
var canvas = new Chart(ctx).Line(lineChartData);

});


</script>
</html>




	